!function(e){if("function"==typeof bootstrap)bootstrap("mona",e);else if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeMona=e}else"undefined"!=typeof window?window.mona=e():global.mona=e()}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){"use strict";function parse(parser,string,opts){opts=opts||{throwOnError:!0};var parseState=parser(new ParserState(void 0,string,0,opts.userState,opts.position||new SourcePosition(opts.fileName),!1));if(parseState.failed&&opts.throwOnError)throw parseState.error;return parseState.failed&&!opts.throwOnError?parseState.error:opts.returnState?parseState:parseState.value}function parseAsync(parser,callback,opts){function exec(){if(done&&!buffer.length)return!1;var res;try{res=parse(collect(parser,1),buffer,opts),opts.position=res.position,buffer=res.input.slice(res.offset)}catch(e){return(!e.wasEof||done)&&callback(e),!1}return res.value.forEach(function(val){callback(null,val)}),!0}function errIfDone(cb){return function(){if(done)throw new Error("AsyncParser closed");return cb.apply(null,arguments)}}opts=copy(opts||{}),opts.throwOnError=!0,opts.returnState=!0;var done=!1,buffer="",handle={done:errIfDone(function(){for(done=!0,buffer="";exec(););return handle}),data:errIfDone(function(data){for(buffer+=data;exec(););return handle}),error:errIfDone(function(error){return done=!0,callback(error),handle})};return handle}function SourcePosition(name,line,column){this.name=name,this.line=line||1,this.column=column||1}function ParseError(pos,messages,type,wasEof){Error.captureStackTrace&&Error.captureStackTrace(this,this),this.position=pos,this.messages=messages,this.type=type,this.wasEof=wasEof,this.message="(line "+this.position.line+", column "+this.position.column+") "+this.messages.join("\n")}function value(val){return function(parserState){var newState=copy(parserState);return newState.value=val,newState}}function bind(parser,fun){return function(parserState){var newParserState=parser(parserState);if(!(newParserState instanceof ParserState))throw new Error("Parsers must return a parser state object");return newParserState.failed?newParserState:fun(newParserState.value)(newParserState)}}function fail(msg,type,replaceError){return msg=msg||"parser error",type=type||"failure",function(parserState){parserState=copy(parserState),parserState.failed=!0;var newError=new ParseError(parserState.position,[msg],type,"eof"===type);return parserState.error=mergeErrors(parserState.error,newError,replaceError),parserState}}function expected(descriptor){return fail("expected "+descriptor,"expectation",!0)}function token(count){return count=count||1,function(parserState){var input=parserState.input,offset=parserState.offset,newOffset=offset+count;if(input.length>=newOffset){for(var newParserState=copy(parserState),newPosition=copy(parserState.position),i=offset;newOffset>i;i++)"\n"===input.charAt(i)?(newPosition.column=1,newPosition.line+=1):newPosition.column+=1;return newParserState.value=input.slice(offset,newOffset),newParserState.offset=newOffset,newParserState.position=newPosition,newParserState}return fail("unexpected eof","eof")(parserState)}}function eof(){return function(parserState){return parserState.input.length===parserState.offset?value(!0)(parserState):expected("end of input")(parserState)}}function delay(constructor){var args=[].slice.call(arguments,1);return function(parserState){return constructor.apply(null,args)(parserState)}}function log(parser,tag,level){return level=level||"log",function(parserState){var newParserState=parser(parserState);return console[level](tag+" :: ",parserState," => ",newParserState),newParserState}}function map(transformer,parser){return bind(parser,function(result){return value(transformer(result))})}function tag(parser,key){return map(function(x){var ret={};return ret[key]=x,ret},parser)}function lookAhead(parser){return function(parserState){var ret=parser(parserState),newState=copy(parserState);return newState.value=ret.value,newState}}function and(firstParser){var moreParsers=[].slice.call(arguments,1);return bind(firstParser,function(result){return moreParsers.length?and.apply(null,moreParsers):value(result)})}function or(){function orHelper(){var parsers=[].slice.call(arguments);return function(parserState){var res=parsers[0](parserState);return res.failed&&(parserState=copy(parserState),parserState.error=mergeErrors(parserState.error,res.error)),res.failed&&parsers[1]?orHelper.apply(null,parsers.slice(1))(parserState):res}}return orHelper.apply(null,arguments)}function maybe(parser){return or(parser,value())}function not(parser){return function(parserState){return parser(parserState).failed?value(!0)(parserState):fail("expected parser to fail")(parserState)}}function unless(parser){var moreParsers=[].slice.call(arguments,1);return and.apply(null,[not(parser)].concat(moreParsers))}function sequence(fun){return function(parserState){function s(parser){if(state=parser(state),state.failed)throw failwhale;return state.value}var state=parserState,failwhale={};try{var ret=fun(s);if("function"!=typeof ret)throw new Error("sequence function must return a parser");var newState=ret(state);if(!(newState instanceof ParserState))throw new Error("sequence function must return a parser");return newState}catch(x){if(x===failwhale)return state;throw x}}}function followedBy(parser){var parsers=[].slice.call(arguments,1);return bind(parser,function(result){return bind(and.apply(null,parsers),function(){return value(result)})})}function separatedBy(parser,separator,minimum){return minimum="undefined"==typeof minimum?0:minimum,0===minimum?or(separatedBy(parser,separator,1),value([])):sequence(function(s){var x=s(parser),xs=s(collect(and(separator,parser))),result=[x].concat(xs);return result.length>=minimum?value(result):fail("expected at least "+minimum+"values from separatedBy")})}function endedBy(parser,separator,enforceEnd,minimum){return enforceEnd="undefined"==typeof enforceEnd?!0:enforceEnd,followedBy(separatedBy(parser,separator,minimum),enforceEnd?separator:maybe(separator))}function collect(parser,min,max){if(min=min||0,max="undefined"==typeof max?1/0:max,min>max)throw new Error("min must be less than or equal to max");return function(parserState){for(var prev=parserState,s=parserState,res=[],i=0;s=parser(s),max>i&&!s.failed;)res.push(s.value),i++,prev=s;return min&&res.length<min?s:value(res)(prev)}}function exactly(parser,n){return collect(parser,n,n)}function between(open,close,parser){return and(open,followedBy(parser,close))}function skip(parser){return and(collect(parser),value())}function satisfies(predicate,predicateName){return predicateName=predicateName||"predicate",or(bind(token(),function(c){return predicate(c)?value(c):fail()}),expected("token matching "+predicateName))}function stringOf(parser){return or(bind(parser,function(xs){return xs.hasOwnProperty("length")&&xs.join?value(xs.join("")):fail()}),expected("an array-like from parser"))}function oneOf(chars,caseSensitive){return caseSensitive="undefined"==typeof caseSensitive?!0:caseSensitive,chars=caseSensitive?chars:chars.toLowerCase(),or(satisfies(function(x){return x=caseSensitive?x:x.toLowerCase(),~chars.indexOf(x)}),expected("one of {"+chars+"}"))}function noneOf(chars,caseSensitive){return caseSensitive="undefined"==typeof caseSensitive?!0:caseSensitive,chars=caseSensitive?chars:chars.toLowerCase(),or(satisfies(function(x){return x=caseSensitive?x:x.toLowerCase(),!~chars.indexOf(x)}),expected("none of {"+chars+"}"))}function string(str,caseSensitive){return caseSensitive="undefined"==typeof caseSensitive?!0:caseSensitive,str=caseSensitive?str:str.toLowerCase(),or(sequence(function(s){var x=s(satisfies(function(x){return x=caseSensitive?x:x.toLowerCase(),x===str[0]},str.charAt(0))),xs=str.length>1?s(string(str.slice(1),caseSensitive)):"";return value(x+xs)}),expected("string matching {"+str+"}"))}function digit(base){return base=base||10,or(satisfies(function(x){return!isNaN(parseInt(x,base))}),expected("digit"))}function space(){return or(oneOf(" 	\n\r"),expected("space"))}function spaces(){return or(and(space(),skip(space()),value(" ")),expected("spaces"))}function text(parser,parserName){return parser||(parserName="token",parser=token()),or(stringOf(collect(parser)),expected("text"+("undefined"!=typeof parserName?" of {"+parserName+"}":"")))}function trim(parser){return between(maybe(spaces()),maybe(spaces()),parser)}function trimLeft(parser){return and(maybe(spaces()),parser)}function trimRight(parser){return followedBy(parser,maybe(spaces()))}function naturalNumber(base){return base=base||10,sequence(function(s){var xs=s(collect(digit(base),1));return value(parseInt(xs.join(""),base))})}function integer(base){return base=base||10,sequence(function(s){var sign=s(maybe(or(string("+"),string("-")))),num=s(naturalNumber(base));return value(num*("-"===sign?-1:1))})}function float(base){return base=base||10,sequence(function(s){for(var leftSide=s(integer(base)),rightSide=s(or(and(string("."),integer(base)),value(0)));rightSide>1;)rightSide/=10;rightSide=leftSide>=0?rightSide:-1*rightSide;var e=s(or(and(string("e",!1),integer(base)),value(0)));return value((leftSide+rightSide)*Math.pow(10,e))})}function copy(obj){var newObj=Object.create(Object.getPrototypeOf(obj));for(var key in obj)obj.hasOwnProperty(key)&&(newObj[key]=obj[key]);return newObj}function mergeErrors(err1,err2,replaceError){if(!err1||!err1.messages.length&&err2.messages.length)return err2;if(!err2||!err2.messages.length&&err1.messages.length)return err1;var pos;if(replaceError)pos=err2.position;else switch(comparePositions(err1.position,err2.position)){case"gt":pos=err1.position;break;case"lt":pos=err2.position;break;case"eq":pos=err1.position}var newMessages=replaceError?err2.messages:err1.messages.concat(err2.messages).reduce(function(acc,x){return~acc.indexOf(x)?acc:acc.concat([x])},[]);return new ParseError(pos,newMessages,err2.type,err2.wasEof||err1.wasEof)}function comparePositions(pos1,pos2){return pos1.line<pos2.line?"lt":pos1.line>pos2.line?"gt":pos1.column<pos2.column?"lt":pos1.column>pos2.column?"gt":"eq"}function ParserState(value,input,offset,userState,position,hasConsumed,error,failed){this.value=value,this.input=input,this.offset=offset,this.position=position,this.userState=userState,this.failed=failed,this.error=error}var VERSION="0.5.0";ParseError.prototype=new Error,ParseError.prototype.constructor=ParseError,ParseError.prototype.name="ParseError",module.exports={version:VERSION,parse:parse,parseAsync:parseAsync,value:value,bind:bind,fail:fail,expected:expected,token:token,eof:eof,log:log,delay:delay,map:map,tag:tag,lookAhead:lookAhead,and:and,or:or,maybe:maybe,not:not,unless:unless,sequence:sequence,followedBy:followedBy,separatedBy:separatedBy,endedBy:endedBy,collect:collect,exactly:exactly,between:between,skip:skip,satisfies:satisfies,stringOf:stringOf,oneOf:oneOf,noneOf:noneOf,string:string,digit:digit,space:space,spaces:spaces,text:text,trim:trim,trimLeft:trimLeft,trimRight:trimRight,naturalNumber:naturalNumber,integer:integer,"float":float}},{}]},{},[1])(1)});
//# sourceMappingURL=mona.js.src